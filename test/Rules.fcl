FUNCTION_BLOCK Rules

VAR_INPUT
  Obstacles : REAL;
END_VAR

VAR_OUTPUT
  Direction : REAL;
END_VAR

FUZZIFY Obstacles
  TERM Soft := (20, 0) (25, 1) (30, 0);
  TERM Hard := (20, 0) (25, 1) (30, 1);
END_FUZZIFY

DEFUZZIFY Direction
  TERM Pass := (0, 0) (10, 1) (20, 0);
  TERM Avoid := (0, 0) (10, 0) (20, 1);
  METHOD : COG;
END_DEFUZZIFY

RULEBLOCK MyRules
  RULE 1: IF Obstacles IS Soft THEN Direction IS Pass;
  RULE 2: IF Obstacles IS Hard THEN Direction IS Avoid;
END_RULEBLOCK
END_FUNCTION_BLOCK

